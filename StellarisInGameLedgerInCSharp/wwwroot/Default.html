<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        var json = [{
            "tag": "0",
            "name": "地球联合国",
            "technologyCount": 72,
            "militaryPower": 1539.09249,
            "colonyCount": 10,
            "civilianStations": 36,
            "population": 99,
            "energy": 3098.002,
            "minerals": 490.121,
            "food": 200.0,
            "influence": 713.896,
            "unity": 3558.644,
            "energyIncome": -5.271,
            "mineralsIncome": 55.109,
            "foodIncome": 0.065,
            "influenceIncome": 5.464,
            "unityIncome": 0.0,
            "physicsResearchIncome": 42.277,
            "societyResearchIncome": 74.673,
            "engineeringResearchIncome": 33.874
        },
        {
            "tag": "1",
            "name": "赞玛帕克帝国",
            "technologyCount": 81,
            "militaryPower": 2592.89398,
            "colonyCount": 6,
            "civilianStations": 70,
            "population": 64,
            "energy": 11326.744,
            "minerals": 770.363,
            "food": 1000.0,
            "influence": 782.17,
            "unity": 2758.045,
            "energyIncome": 35.969,
            "mineralsIncome": 82.274,
            "foodIncome": 4.593,
            "influenceIncome": 3.188,
            "unityIncome": 0.0,
            "physicsResearchIncome": 34.929,
            "societyResearchIncome": 35.067,
            "engineeringResearchIncome": 51.272
        }
        ];



        // Load the Visualization API and the corechart package.
        google.charts.load('current', { 'packages': ['table'] });

        // Set a callback to run when the Google Visualization API is loaded.
        google.charts.setOnLoadCallback(drawTable);


        function getColumnHeader(name) {
            return name[0].toUpperCase() + name.substr(1);
        }



        function drawTable() {
            var data = new google.visualization.DataTable();

            var propertyNames = Object.getOwnPropertyNames(json[0]);
            propertyNames.forEach(p => {
                data.addColumn({ type: typeof (json[0][p]), label: getColumnHeader(p) });
            });


            var rows= json.map(item => {
                var cells= propertyNames.map(p => {
                    return item[p];
                });
                return cells;
            });



            data.addRows(rows);


            // Instantiate and draw our chart, passing in some options.
            var table = new google.visualization.Table(document.getElementById('table_div'));

            table.draw(data, { showRowNumber: true, width: '100%', height: '100%' });
        }
    </script>
</head>

<body>
    <!--Div that will hold the pie chart-->
    <div id="table_div"></div>
</body>
</html>
